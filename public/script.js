import 'http://localhost:3000/bundle.js';

const json = {
  files: [
    {
      id: '1:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_body_T24_',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_body_T24_.stl',
      name: 'LX15D_U_body(T24)',
      pose: { position: [40, 0, 0], orientation: [1, 0, 0, 0] }
    },
    {
      id: '2:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_plate_T24_',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_plate_T24_.stl',
      name: 'LX15D_U_plate(T24)',
      color: 'green'
    },
    {
      id: '3:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_plate_cable_T24_',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_plate_cable_T24_.stl',
      name: 'LX15D_U_plate_cable(T24)',
      pose: {
        position: [0, 0, 0],
        orientation: [6.123233995736766e-17, 1, 0, 0]
      }
    },
    {
      id: '4:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_plate_cable_lock_T24_2.0_2.0_',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/LX15D_U_plate_cable_lock_T24_2.0_2.0_.stl',
      name: 'LX15D_U_plate_cable_lock(T24,2.0,2.0)',
      pose: { position: [0, 0, 0], orientation: [1, 0, 0, 0] }
    },
    {
      id: '5:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x12_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x12_screw.stl',
      name: 'Cylinder M2x12 screw',
      pose: {
        position: [37, -8, -18.75],
        orientation: [1, 0, 0, 0]
      }
    },
    {
      id: '6:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x12_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x12_screw.stl',
      name: 'Cylinder M2x12 screw',
      pose: { position: [37, 8, -18.75], orientation: [1, 0, 0, 0] }
    },
    {
      id: '7:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw.stl',
      name: 'Cylinder M2x8 screw',
      pose: {
        position: [37, -8, 14.75],
        orientation: [6.123233995736766e-17, 1, 0, 0]
      },
      color: 'yellow'
    },
    {
      id: '8:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw.stl',
      name: 'Cylinder M2x8 screw',
      pose: {
        position: [37, 8, 14.75],
        orientation: [6.123233995736766e-17, 1, 0, 0]
      },
      color: 'yellow'
    },
    {
      id: '9:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw.stl',
      name: 'Cylinder M2x8 screw',
      pose: {
        position: [32.025000000000006, -9, -14.75],
        orientation: [1, 0, 0, 0]
      },
      color: 'yellow'
    },
    {
      id: '10:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw.stl',
      name: 'Cylinder M2x8 screw',
      pose: {
        position: [32.025000000000006, -9, 14.75],
        orientation: [6.123233995736766e-17, 1, 0, 0]
      },
      color: 'yellow'
    },
    {
      id: '11:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw.stl',
      name: 'Cylinder M2x8 screw',
      pose: {
        position: [32.025000000000006, 9, -14.75],
        orientation: [1, 0, 0, 0]
      },
      color: 'yellow'
    },
    {
      id: '12:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/Cylinder_M2x8_screw.stl',
      name: 'Cylinder M2x8 screw',
      pose: {
        position: [32.025000000000006, 9, 14.75],
        orientation: [6.123233995736766e-17, 1, 0, 0]
      },
      color: 'yellow'
    },
    {
      id: '13:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut.stl',
      name: 'M2 nut',
      pose: {
        position: [37, -8, -10.75],
        orientation: [1, 0, 0, 0]
      },
      color: 'yellow'
    },
    {
      id: '14:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut.stl',
      name: 'M2 nut',
      pose: {
        position: [37, -8, 10.75],
        orientation: [6.123233995736766e-17, 1, 0, 0]
      },
      color: 'random'
    },
    {
      id: '15:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut.stl',
      name: 'M2 nut',
      pose: { position: [37, 8, -10.75], orientation: [1, 0, 0, 0] },
      color: 'random'
    },
    {
      id: '16:LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut',
      file: 'jsons/LX15D_U_[24.0_[8.0_4.0_0.0]_4.0_2.0_4.7_1.8_2.0_T24]_expand_0.0_/M2_nut.stl',
      name: 'M2 nut',
      pose: {
        position: [37, 8, 10.75],
        orientation: [6.123233995736766e-17, 1, 0, 0]
      },
      color: 'random'
    }
  ],
  steps: []
};

const overlay = document.createElement('div');
overlay.innerHTML = '<p>LOADING</p>';

const config = {
  container: document.getElementById('first'),
  colors: {
    backgroundColor: 'rgb('
  },
  sidebar: {
    body: overlay,
    visible: false
  },
  world: {
    startPosition: [10, 10, 10],
    centerOfWorld: [40, 0, 0]
  }
};

const t1 = new Factory(config).loadJSON(json);

t1.on('5', 'click', (e) => {
  const span = document.getElementById('data');
  if (span != null) {
    span.innerText = JSON.stringify(e.data);
  }
});

t1.on('1', 'click', () => {
  // Help
});

t1.group('click', (e) => {
  console.log(e);
  e.addPosition([10, 0, 0]);
  // t1.destroy();
  console.log('KLIKD');
});

t1.on('5', 'hover', (e) => {
  /* obj.getMesh().position.x += 5;
    obj.getOutline().position.x += 5*/
  console.log(e);
});

const btn = document.getElementById('jump');
btn.addEventListener('click', (ev) => {
  ev.preventDefault();
  t1.moveToStep(3);
});
t1.getItem('1');

const json2 = {
  files: [
    {
      file: 'models/files/screw.stl',
      color: 'yellow',
      id: '1',
      pose: {
        position: [0, 0, 0]
      }
    }
  ],
  steps: [
    {
      name: 'Init',
      positions: [
        {
          id: '1',
          pose: {
            position: [0, 0, 0]
          }
        }
      ]
    },
    {
      name: 'First Step',
      positions: [
        {
          id: '1',
          pose: {
            position: [0, 10, 0]
          }
        }
      ],
      animation: 'y180deg'
    },
    {
      name: 'Second Step',
      positions: [
        {
          id: '1',
          pose: {
            position: [0, -10, 0]
          }
        }
      ],
      animation: 'x360deg'
    }
  ]
};

const c = {
  container: document.getElementById('second'),
  world: {
    startPosition: [50, 0, 0],
    centerOfWorld: [0, -25, 0]
  },
  animationLoop: ['Init', 'First Step', 'Second Step']
};

const f = new Factory(c).loadJSON(json2);

f.on('1', 'hover', (ev) => {
  console.log('Inside!');
  console.log(ev);
});
